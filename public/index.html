<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h1>Nails Technician Income Track</h1>
  <form class="formIcome">
    <label for="amount">Amount</label>
    <input type="text" id="amount" name="amount" class="amount">
    <label for="tipCard">Tip Card</label>
    <input type="text" id="tipCard" name="tipCard" class="tipCard">
    <label for="tipCash">Tip Cash</label>
    <input type="text" id="tipCash" name="tipCash" class="tipCash">
    <label for="workDate">Work Date</label>
    <input type="date" id="workDate" name="workDate" class="workDate" >
    <button type="submit" class="submitBtn">Submit</button>
  </form>
  <hr>
  <div class="showData"></div>
  <script src="postData.js"></script>
  <script src="showCurrentDate.js"></script>
  <script>
    getData()
    async function getData(){
      const showDataEl = document.querySelector(".showData")
      const res = await fetch("/api")
      const data = await res.json()

      let showData = data.map(element => {
        const {amount,tipCard,tipCash,workDate} = element
        let display = `
                      <p>Work date : ${workDate}</p>
                      <p>Amount : ${amount}</p>
                      <p>Tip card : ${tipCard}</p>
                      <p>Tip cash : ${tipCash}</p>
                      <hr>`
        return display
      }).join("")
      showDataEl.innerHTML = showData

    }
  </script>
</body>
</html>