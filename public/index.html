<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h1>Nails Technician Income Track</h1>
  <form class="formIcome">
    <label for="amount">Amount</label>
    <input type="text" id="amount" name="amount" class="amount">
    <label for="tipCard">Tip Card</label>
    <input type="text" id="tipCard" name="tipCard" class="tipCard">
    <label for="tipCash">Tip Cash</label>
    <input type="text" id="tipCash" name="tipCash" class="tipCash">
    <label for="workDate">Work Date</label>
    <input type="date" id="workDate" name="workDate" class="workDate" >
    <button type="submit" class="submitBtn">Submit</button>
  </form>
  <script>

    const submitBtn = document.querySelector(".submitBtn")
    const workDate = document.querySelector(".workDate")
    workDate.valueAsDate = new Date()
    submitBtn.addEventListener("click",async (e)=>{
      const amount = document.querySelector(".amount").value
      const tipCard = document.querySelector(".tipCard").value
      const tipCash = document.querySelector(".tipCash").value
      const workDate = document.querySelector(".workDate").value
      const data ={
        amount : amount,
        tipCard : tipCard,
        tipCash : tipCash,
        workDate : workDate
      }
      const options ={
        method : "POST",
        headers : {
            "Content-Type":"application/json"
        },
        body: JSON.stringify(data)
      }
      const res = await fetch("/api",options)
      const json = await res.json()
      console.log(json)
    })
  </script>
</body>
</html>